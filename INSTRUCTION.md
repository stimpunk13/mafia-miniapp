# üé≠ –ú–ê–§–ò–Ø - TELEGRAM MINI APP
## –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤

---

## üìÅ –ß–¢–û –£ –í–ê–° –ï–°–¢–¨

–í—ã –ø–æ–ª—É—á–∏–ª–∏ –≥–æ—Ç–æ–≤—ã–π Telegram Mini App –¥–ª—è –∏–≥—Ä—ã –≤ –ú–∞—Ñ–∏—é!

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:**
```
mafia_miniapp/
‚îú‚îÄ‚îÄ backend/              # Python —Å–µ—Ä–≤–µ—Ä (API)
‚îÇ   ‚îú‚îÄ‚îÄ main.py          # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt # –°–ø–∏—Å–æ–∫ –±–∏–±–ª–∏–æ—Ç–µ–∫
‚îú‚îÄ‚îÄ frontend/            # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îî‚îÄ‚îÄ index.html       # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îî‚îÄ‚îÄ –ò–ù–°–¢–†–£–ö–¶–ò–Ø.md        # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## üöÄ –®–ê–ì 1: –£–°–¢–ê–ù–û–í–ö–ê –ü–†–û–ì–†–ê–ú–ú

### 1.1 –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python (–µ—Å–ª–∏ –µ—â—ë –Ω–µ—Ç)

**Windows:**
1. –°–∫–∞—á–∞–π—Ç–µ Python —Å https://www.python.org/downloads/
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫
3. ‚úÖ –í–ê–ñ–ù–û: –ü–æ—Å—Ç–∞–≤—å—Ç–µ –≥–∞–ª–æ—á–∫—É "Add Python to PATH"
4. –ù–∞–∂–º–∏—Ç–µ "Install Now"

**Mac:**
```bash
brew install python3
```

**Linux (Ubuntu):**
```bash
sudo apt update
sudo apt install python3 python3-pip
```

### 1.2 –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É

–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª/–∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É –∏ –≤–≤–µ–¥–∏—Ç–µ:
```bash
python --version
```
–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ "Python 3.11.x"

---

## üîß –®–ê–ì 2: –ó–ê–ü–£–°–ö –õ–û–ö–ê–õ–¨–ù–û (–ù–ê –í–ê–®–ï–ú –ö–û–ú–ü–¨–Æ–¢–ï–†–ï)

### 2.1 –û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞

**Windows:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ "–ö–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É" –∏–ª–∏ "PowerShell"
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É:
```bash
cd –ø—É—Ç—å\–∫\mafia_miniapp\backend
```

**Mac/Linux:**
```bash
cd /–ø—É—Ç—å/–∫/mafia_miniapp/backend
```

### 2.2 –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

```bash
pip install -r requirements.txt
```

### 2.3 –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä

```bash
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

‚úÖ –ï—Å–ª–∏ –≤—Å—ë –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –≤—ã —É–≤–∏–¥–∏—Ç–µ:
```
INFO: Uvicorn running on http://0.0.0.0:8000
```

### 2.4 –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ

–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ:
```
http://localhost:8000/static/index.html
```

**–ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ! üéâ**

---

## üåê –®–ê–ì 3: –°–û–ó–î–ê–ù–ò–ï TELEGRAM –ë–û–¢–ê

### 3.1 –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
2. –ù–∞–π–¥–∏—Ç–µ **@BotFather**
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É: `/newbot`
4. –ü—Ä–∏–¥—É–º–∞–π—Ç–µ –∏–º—è: `–ú–∞—Ñ–∏—è –ë–æ—Ç`
5. –ü—Ä–∏–¥—É–º–∞–π—Ç–µ username: `mafia_game_your_name_bot` (–¥–æ–ª–∂–µ–Ω –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ `bot`)
6. **–í–ê–ñ–ù–û:** –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ (—Å—Ç—Ä–æ–∫–∞ –≤–∏–¥–∞ `1234567890:ABCdef...`)

### 3.2 –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Web App

–û—Ç–ø—Ä–∞–≤—å—Ç–µ @BotFather –∫–æ–º–∞–Ω–¥—É:
```
/newapp
```

–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞, –∑–∞—Ç–µ–º:
1. **Title:** `–ú–∞—Ñ–∏—è`
2. **Description:** `–ò–≥—Ä–∞ –≤ –º–∞—Ñ–∏—é —Å –¥—Ä—É–∑—å—è–º–∏`
3. **Photo:** –ó–∞–≥—Ä—É–∑–∏—Ç–µ –ª—é–±—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É (512x512px)
4. **Demo GIF:** –ü—Ä–æ–ø—É—Å—Ç–∏—Ç–µ (–æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/empty`)
5. **Web App URL:** `https://–≤–∞—à-—Å–µ—Ä–≤–µ—Ä.com/static/index.html` 
   (‚ö†Ô∏è –ø–æ–∫–∞ –æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, –≤–µ—Ä–Ω—ë–º—Å—è –∫ —ç—Ç–æ–º—É –ø–æ–∑–∂–µ)

---

## ‚òÅÔ∏è –®–ê–ì 4: –†–ê–ó–ú–ï–©–ï–ù–ò–ï –í –ò–ù–¢–ï–†–ù–ï–¢–ï

–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ —á–µ—Ä–µ–∑ HTTPS –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ Telegram.

### –í–ê–†–ò–ê–ù–¢ –ê: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ngrok (–ë–´–°–¢–†–û, –î–õ–Ø –¢–ï–°–¢–ê)

**4.1 –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ngrok:**
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://ngrok.com
2. –°–∫–∞—á–∞–π—Ç–µ ngrok –¥–ª—è –≤–∞—à–µ–π –û–°
3. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å (—Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –Ω–∞ —Å–∞–π—Ç–µ)

**4.2 –ó–∞–ø—É—Å—Ç–∏—Ç–µ ngrok:**

–í –Ω–æ–≤–æ–º –æ–∫–Ω–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞:
```bash
ngrok http 8000
```

–í—ã –ø–æ–ª—É—á–∏—Ç–µ URL –≤–∏–¥–∞: `https://abc123.ngrok.io`

**4.3 –û–±–Ω–æ–≤–∏—Ç–µ URL –≤ @BotFather:**

1. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ @BotFather
2. –ö–æ–º–∞–Ω–¥–∞: `/myapps`
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à app
4. "Edit Web App URL"
5. –í—Å—Ç–∞–≤—å—Ç–µ: `https://abc123.ngrok.io/static/index.html`

**4.4 –û–±–Ω–æ–≤–∏—Ç–µ API_URL –≤ index.html:**

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `frontend/index.html` (—Å—Ç—Ä–æ–∫–∞ 349):
```javascript
// –ë—ã–ª–æ:
const API_URL = 'http://localhost:8000/api';

// –°—Ç–∞–ª–æ:
const API_URL = 'https://abc123.ngrok.io/api';
```

‚ö†Ô∏è **–í–ê–ñ–ù–û:** –ö–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ ngrok URL –º–µ–Ω—è–µ—Ç—Å—è!

---

### –í–ê–†–ò–ê–ù–¢ –ë: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Render.com (–ë–ï–°–ü–õ–ê–¢–ù–û, –ü–û–°–¢–û–Ø–ù–ù–û)

**4.1 –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:**
1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://render.com
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å (–º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ GitHub)

**4.2 –ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ GitHub:**
1. –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ https://github.com
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ç—É–¥–∞ –ø–∞–ø–∫—É `mafia_miniapp`

**4.3 –°–æ–∑–¥–∞–π—Ç–µ Web Service –Ω–∞ Render:**
1. –í Render: "New" ‚Üí "Web Service"
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. **Root Directory:** `backend`
5. **Build Command:** `pip install -r requirements.txt`
6. **Start Command:** `uvicorn main:app --host 0.0.0.0 --port $PORT`
7. –ù–∞–∂–º–∏—Ç–µ "Create Web Service"

**4.4 –ü–æ–ª—É—á–∏—Ç–µ URL:**

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –≤—ã –ø–æ–ª—É—á–∏—Ç–µ URL: `https://–≤–∞—à–µ-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.onrender.com`

**4.5 –û–±–Ω–æ–≤–∏—Ç–µ @BotFather –∏ index.html:**

–í @BotFather:
```
https://–≤–∞—à–µ-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.onrender.com/static/index.html
```

–í `frontend/index.html`:
```javascript
const API_URL = 'https://–≤–∞—à–µ-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.onrender.com/api';
```

---

## üì± –®–ê–ì 5: –ó–ê–ü–£–°–ö –í TELEGRAM

### 5.1 –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞

1. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram
2. –ù–∞–∂–º–∏—Ç–µ "START" –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`

### 5.2 –û—Ç–∫—Ä–æ–π—Ç–µ Mini App

1. –í–Ω–∏–∑—É –ø–æ—è–≤–∏—Ç—Å—è –∫–Ω–æ–ø–∫–∞ "–ú–∞—Ñ–∏—è" –∏–ª–∏ –∑–Ω–∞—á–æ–∫ –º–µ–Ω—é
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ—ë
3. **–ì–æ—Ç–æ–≤–æ!** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã–ª–æ—Å—å –≤ Telegram! üéâ

---

## üéÆ –ö–ê–ö –ò–ì–†–ê–¢–¨

### 1. –°–æ–∑–¥–∞–π—Ç–µ –∏–≥—Ä—É
–ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É"

### 2. –î–æ–±–∞–≤—å—Ç–µ –∏–≥—Ä–æ–∫–æ–≤
–í–≤–µ–¥–∏—Ç–µ –∏–º–µ–Ω–∞ –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (–º–∏–Ω–∏–º—É–º 4)

### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–æ–ª–∏
- –ò–∑–º–µ–Ω–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–∂–¥–æ–π —Ä–æ–ª–∏ –∫–Ω–æ–ø–∫–∞–º–∏ +/-
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–æ–ª–µ–π = –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∏–≥—Ä–æ–∫–æ–≤

### 4. –ù–∞—á–Ω–∏—Ç–µ –∏–≥—Ä—É
- –ù–∞–∂–º–∏—Ç–µ "–ù–∞—á–∞—Ç—å –∏–≥—Ä—É!"
- –†–æ–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—Ç—Å—è

### 5. –ò–≥—Ä–∞–π—Ç–µ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ "–ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ" –¥–ª—è –∏–∑–≥–Ω–∞–Ω–∏—è –∏–≥—Ä–æ–∫–æ–≤
- "–°–ª–µ–¥—É—é—â–∞—è —Ñ–∞–∑–∞" –¥–ª—è —Å–º–µ–Ω—ã –¥–µ–Ω—å/–Ω–æ—á—å
- –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–æ–º —Å–æ–±—ã—Ç–∏–π

---

## üêõ –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú

### "–ò–≥—Ä–∞ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –≤ @BotFather
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API_URL –≤ index.html

### "Cannot connect to server"
- –°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ HTTPS (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ngrok –∏–ª–∏ Render)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç—ã –æ—Ç–∫—Ä—ã—Ç—ã

### "Module not found"
```bash
pip install -r requirements.txt
```

### "Telegram Web App –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è"
- URL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å HTTPS (–Ω–µ HTTP!)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª index.html –¥–æ—Å—Ç—É–ø–µ–Ω

---

## üìû –ü–û–î–î–ï–†–ñ–ö–ê

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ —à–∞–≥–∏ –ø–æ –ø–æ—Ä—è–¥–∫—É
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ (—Ç–∞–º –≥–¥–µ –∑–∞–ø—É—â–µ–Ω uvicorn)

---

## üéØ –ß–¢–û –î–ê–õ–¨–®–ï?

### –£–ª—É—á—à–µ–Ω–∏—è –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:

- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (SQLite, PostgreSQL) –≤–º–µ—Å—Ç–æ —Å–ª–æ–≤–∞—Ä—è
- ‚úÖ –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –Ω–æ—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏
- ‚úÖ –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
- ‚úÖ –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä

---

## üìù –ó–ê–ú–ï–¢–ö–ò

- –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
- –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –¥—Ä—É–∑—å—è–º–∏ - ngrok
- –î–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è - Render.com

**–£–¥–∞—á–Ω–æ–π –∏–≥—Ä—ã! üé≠**
